define_geometry(platform, float inner, float outer) 
difference {
    intersection {
        sd_box(vec3(outer, 0.2, outer));
        sd_sphere(outer);
    };
    sd_sphere(inner);
};

define_geometry(funnel_x) {
    repeat(0.1,0,0)
    sd_sphere(1 + pow(arg.p.x / 20, 2));
};
define_geometry(funnel_y) {
    repeat(0,0.1,0)
    sd_sphere(1 + pow(arg.p.y / 20, 2));
};
define_geometry(funnel_z) {
    repeat(0,0,0.1)
    sd_sphere(1 + pow(arg.p.z / 20, 2));
};

opaque(1,1,1) {
    funnel_y();
    funnel_x();
    funnel_z();
    sd_sphere(3);
};
